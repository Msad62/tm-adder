import base64
exec(base64.b64decode( b'JycnCj09PT09PT09PT09PT1+cHJvVGVjdG9yfj09PT09PT09PT09PT09PT09PT09PQpaaWxsYSBtZW1iZXJzIGFkZGluZyBzY3JpcHQKQ29kZWQgYnkgYSBkdW1iYXNzIGtpZC0gaHR0cHM6Ly90Lm1lL1Byb1RlY3Rvcl8yCkFwb2xvZ2llcyBpZiBhbnl0aGluZyBpbiB0aGUgY29kZSBpcyBkdW1iIDopCkNvcHkgd2l0aCBjcmVkaXRzCioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgonJycKCiMgaW1wb3J0IGxpYnJhcmllcwpmcm9tIHRlbGV0aG9uLnN5bmMgaW1wb3J0IFRlbGVncmFtQ2xpZW50CmZyb20gdGVsZXRob24udGwudHlwZXMgaW1wb3J0IElucHV0UGVlckNoYW5uZWwKZnJvbSB0ZWxldGhvbi5lcnJvcnMucnBjZXJyb3JsaXN0IGltcG9ydCBQZWVyRmxvb2RFcnJvciwgVXNlclByaXZhY3lSZXN0cmljdGVkRXJyb3IsIFBob25lTnVtYmVyQmFubmVkRXJyb3IsIENoYXRBZG1pblJlcXVpcmVkRXJyb3IKZnJvbSB0ZWxldGhvbi5lcnJvcnMucnBjZXJyb3JsaXN0IGltcG9ydCBDaGF0V3JpdGVGb3JiaWRkZW5FcnJvciwgVXNlckJhbm5lZEluQ2hhbm5lbEVycm9yLCBVc2VyQWxyZWFkeVBhcnRpY2lwYW50RXJyb3IsIEZsb29kV2FpdEVycm9yCmZyb20gdGVsZXRob24udGwuZnVuY3Rpb25zLmNoYW5uZWxzIGltcG9ydCBJbnZpdGVUb0NoYW5uZWxSZXF1ZXN0CmltcG9ydCBzeXMKZnJvbSB0ZWxldGhvbi50bC5mdW5jdGlvbnMubWVzc2FnZXMgaW1wb3J0IEltcG9ydENoYXRJbnZpdGVSZXF1ZXN0LCBBZGRDaGF0VXNlclJlcXVlc3QKZnJvbSB0ZWxldGhvbi50bC5mdW5jdGlvbnMuY2hhbm5lbHMgaW1wb3J0IEpvaW5DaGFubmVsUmVxdWVzdApmcm9tIHRlbGV0aG9uLnRsLnR5cGVzIGltcG9ydCBVc2VyU3RhdHVzUmVjZW50bHkKaW1wb3J0IHRpbWUKaW1wb3J0IHJhbmRvbQpmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlCmltcG9ydCBvcwppbXBvcnQgcGlja2xlCgoKaW5pdCgpCgoKciA9IEZvcmUuUkVECmxnID0gRm9yZS5HUkVFTgpycyA9IEZvcmUuUkVTRVQKdyA9IEZvcmUuV0hJVEUKZ3JleSA9ICdcMDMzWzk3bScKY3kgPSBGb3JlLkNZQU4KeWUgPSBGb3JlLllFTExPVwpjb2xvcnMgPSBbciwgbGcsIHcsIHllLCBjeV0KaW5mbyA9IGxnICsgJ1snICsgdyArICdpJyArIGxnICsgJ10nICsgcnMKZXJyb3IgPSBsZyArICdbJyArIHIgKyAnIScgKyBsZyArICddJyArIHJzCnN1Y2Nlc3MgPSB3ICsgJ1snICsgbGcgKyAnKicgKyB3ICsgJ10nICsgcnMKSU5QVVQgPSBsZyArICdbJyArIGN5ICsgJ34nICsgbGcgKyAnXScgKyBycwpwbHVzID0gdyArICdbJyArIGxnICsgJysnICsgdyArICddJyArIHJzCm1pbnVzID0gdyArICdbJyArIGxnICsgJy0nICsgdyArICddJyArIHJzCgpkZWYgYmFubmVyKCk6CiAgICAjIGZhbmN5IGxvZ28KICAgIGIgPSBbICAgICAgICAgIAogICAgJyAgICBfX19fICAgICAgICAgICAgIF9fICAgICAgICAgICAgX18gICAgJywgICAgICAgIAogICAnICAgLyBfXyBcX19fX19fX19fICAvIC9fX19fX19fX19fXy8gL19fX19fICBfX19fXycsCiAgJyAgLyAvXy8gLyBfX18vIF9fIFwvIF9fLyBfX18vIF9fXy8gX18vIF9fIFwvIF9fXy8nLAogJyAvIF9fX18vIC8gIC8gL18vIC8gL18vIC8gIC8gL19fLyAvXy8gL18vIC8gLyAgICcsCicvXy8gICAvXy8gICBcX19fXy9cX18vXy8gICBcX19fL1xfXy9cX19fXy9fLyAgICcgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICBdCiAgICBmb3IgY2hhciBpbiBiOgogICAgICAgIHByaW50KGYne3JhbmRvbS5jaG9pY2UoY29sb3JzKX17Y2hhcn17cnN9JykKICAgICNwcmludCgnPT09PT09PT09PT09PX5wcm9UZWN0b3J+PT09PT09PT09PT09PT0nKQogICAgcHJpbnQoZid7bGd9ICBWZXJzaW9uOiB7d30zLjJ7bGd9IHwgQXV0aG9yOiB7d316aWxsYSB8IGh0dHBzOi8vdC5tZS9Qcm9UZWN0b3JfMiB7cnN9XG4nKQoKCiMgZnVuY3Rpb24gdG8gY2xlYXIgc2NyZWVuCmRlZiBjbHIoKToKICAgIGlmIG9zLm5hbWUgPT0gJ250JzoKICAgICAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICBlbHNlOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQoKYWNjb3VudHMgPSBbXQpmID0gb3BlbigndmFycy50eHQnLCAncmInKQp3aGlsZSBUcnVlOgogICAgdHJ5OgogICAgICAgIGFjY291bnRzLmFwcGVuZChwaWNrbGUubG9hZChmKSkKICAgIGV4Y2VwdCBFT0ZFcnJvcjoKICAgICAgICBicmVhawoKIyBjcmVhdGUgc2Vzc2lvbnMoaWYgYW55KSBhbmQgY2hlY2sgZm9yIGFueSBiYW5uZWQgYWNjb3VudHMKIyBUT0RPOiBSZW1vdmUgY29kZSBpbnB1dChqdXN0IHRvIGNoZWNrIGlmIGFuIGFjY291bnQgaXMgYmFubmVkKQpwcmludCgnXG4nICsgaW5mbyArIGxnICsgJyBDaGVja2luZyBmb3IgYmFubmVkIGFjY291bnRzLi4uJyArIHJzKQpmb3IgYSBpbiBhY2NvdW50czoKICAgIHBobiA9IGFbMF0KICAgIHByaW50KGYne3BsdXN9e2dyZXl9IENoZWNraW5nIHtsZ317cGhufScpCiAgICBjbG50ID0gVGVsZWdyYW1DbGllbnQoZidzZXNzaW9ucy97cGhufScsIDM5MTAzODksICc4NmY4NjEzNTJmMGFiNzZhMjUxODY2MDU5YTZhZGJkNicpCiAgICBjbG50LmNvbm5lY3QoKQogICAgYmFubmVkID0gW10KICAgIGlmIG5vdCBjbG50LmlzX3VzZXJfYXV0aG9yaXplZCgpOgogICAgICAgIHRyeToKICAgICAgICAgICAgY2xudC5zZW5kX2NvZGVfcmVxdWVzdChwaG4pCiAgICAgICAgICAgIHByaW50KCdPSycpCiAgICAgICAgZXhjZXB0IFBob25lTnVtYmVyQmFubmVkRXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne2Vycm9yfSB7d317cGhufSB7cn1pcyBiYW5uZWQhe3JzfScpCiAgICAgICAgICAgIGJhbm5lZC5hcHBlbmQoYSkKICAgIGZvciB6IGluIGJhbm5lZDoKICAgICAgICBhY2NvdW50cy5yZW1vdmUoeikKICAgICAgICBwcmludChpbmZvK2xnKycgQmFubmVkIGFjY291bnQgcmVtb3ZlZFtSZW1vdmUgcGVybWFuZW50bHkgdXNpbmcgbWFuYWdlci5weV0nK3JzKQogICAgdGltZS5zbGVlcCgwLjUpCiAgICBjbG50LmRpc2Nvbm5lY3QoKQoKCnByaW50KGluZm8rJyBTZXNzaW9ucyBjcmVhdGVkIScpCmNscigpCmJhbm5lcigpCiMgZnVuYyB0byBsb2cgc2NyYXBpbmcgZGV0YWlscyhsaW5rIG9mIHRoZSBncnAgdG8gc2NyYXBlCiMgYW5kIGN1cnJlbnQgaW5kZXgpIGluIG9yZGVyIHRvIHJlc3VtZSBsYXRlcgpkZWYgbG9nX3N0YXR1cyhzY3JhcGVkLCBpbmRleCk6CiAgICB3aXRoIG9wZW4oJ3N0YXR1cy5kYXQnLCAnd2InKSBhcyBmOgogICAgICAgIHBpY2tsZS5kdW1wKFtzY3JhcGVkLCBpbnQoaW5kZXgpXSwgZikKICAgICAgICBmLmNsb3NlKCkKICAgIHByaW50KGYne2luZm99e2xnfSBTZXNzaW9uIHN0b3JlZCBpbiB7d31zdGF0dXMuZGF0e2xnfScpCiAgICAKCmRlZiBleGl0X3dpbmRvdygpOgogICAgaW5wdXQoZidcbntjeX0gUHJlc3MgZW50ZXIgdG8gZXhpdC4uLicpCiAgICBjbHIoKQogICAgYmFubmVyKCkKICAgIHN5cy5leGl0KCkKCiMgcmVhZCB1c2VyIGRldGFpbHMKdHJ5OgogICAgIyBycXVlc3QgdG8gcmVzdW1lIGFkZGluZwogICAgd2l0aCBvcGVuKCdzdGF0dXMuZGF0JywgJ3JiJykgYXMgZjoKICAgICAgICBzdGF0dXMgPSBwaWNrbGUubG9hZChmKQogICAgICAgIGYuY2xvc2UoKQogICAgICAgIGxvbCA9IGlucHV0KGYne0lOUFVUfXtjeX0gUmVzdW1lIHNjcmFwaW5nIG1lbWJlcnMgZnJvbSB7d317c3RhdHVzWzBdfXtsZ30/IFt5L25dOiB7cn0nKQogICAgICAgIGlmICd5JyBpbiBsb2w6CiAgICAgICAgICAgIHNjcmFwZWRfZ3JwID0gc3RhdHVzWzBdIDsgaW5kZXggPSBpbnQoc3RhdHVzWzFdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIG9zLm5hbWUgPT0gJ250JzogCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2RlbCBzdGF0dXMuZGF0JykKICAgICAgICAgICAgZWxzZTogCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ3JtIHN0YXR1cy5kYXQnKQogICAgICAgICAgICBzY3JhcGVkX2dycCA9IGlucHV0KGYne0lOUFVUfXtjeX0gUHVibGljL1ByaXZhdGUgZ3JvdXAgbGluayB0byBzY3JhcGUgbWVtYmVyczoge3J9JykKICAgICAgICAgICAgaW5kZXggPSAwCmV4Y2VwdDoKICAgIHNjcmFwZWRfZ3JwID0gaW5wdXQoZid7SU5QVVR9e2N5fSBQdWJsaWMvUHJpdmF0ZSBncm91cCBsaW5rIHRvIHNjcmFwZSBtZW1iZXJzOiB7cn0nKQogICAgaW5kZXggPSAwCiMgbG9hZCBhbGwgdGhlIGFjY291bnRzKHBob25lbnVtYmVycykKYWNjb3VudHMgPSBbXQpmID0gb3BlbigndmFycy50eHQnLCAncmInKQp3aGlsZSBUcnVlOgogICAgdHJ5OgogICAgICAgIGFjY291bnRzLmFwcGVuZChwaWNrbGUubG9hZChmKSkKICAgIGV4Y2VwdCBFT0ZFcnJvcjoKICAgICAgICBicmVhawoKcHJpbnQoZid7aW5mb317bGd9IFRvdGFsIGFjY291bnRzOiB7d317bGVuKGFjY291bnRzKX0nKQpudW1iZXJfb2ZfYWNjcyA9IGludChpbnB1dChmJ3tJTlBVVH17Y3l9IEVudGVyIG51bWJlciBvZiBhY2NvdW50cyB0byB1c2U6IHtyfScpKQpwcmludChmJ3tpbmZvfXtjeX0gQ2hvb3NlIGFuIG9wdGlvbntsZ30nKQpwcmludChmJ3tjeX1bMF17bGd9IEFkZCB0byBwdWJsaWMgZ3JvdXAnKQpwcmludChmJ3tjeX1bMV17bGd9IEFkZCB0byBwcml2YXRlIGdyb3VwJykKY2hvaWNlID0gaW50KGlucHV0KGYne0lOUFVUfXtjeX0gRW50ZXIgY2hvaWNlOiB7cn0nKSkKaWYgY2hvaWNlID09IDA6CiAgICB0YXJnZXQgPSBzdHIoaW5wdXQoZid7SU5QVVR9e2N5fSBFbnRlciBwdWJsaWMgZ3JvdXAgbGluazoge3J9JykpCmVsc2U6CiAgICB0YXJnZXQgPSBzdHIoaW5wdXQoZid7SU5QVVR9e2N5fSBFbnRlciBwcml2YXRlIGdyb3VwIGxpbms6IHtyfScpKQpwcmludChmJ3tncmV5fV8nKjUwKQojc3RhdHVzX2Nob2ljZSA9IHN0cihpbnB1dChmJ3tJTlBVVH17Y3l9IERvIHlvdSB3YW5uYSBhZGQgYWN0aXZlIG1lbWJlcnM/W3kvbl06IHtyfScpKQp0b191c2UgPSBbeCBmb3IgeCBpbiBhY2NvdW50c1s6bnVtYmVyX29mX2FjY3NdXQpmb3IgbCBpbiB0b191c2U6IGFjY291bnRzLnJlbW92ZShsKQp3aXRoIG9wZW4oJ3ZhcnMudHh0JywgJ3diJykgYXMgZjoKICAgIGZvciBhIGluIGFjY291bnRzOgogICAgICAgIHBpY2tsZS5kdW1wKGEsIGYpCiAgICBmb3IgYWIgaW4gdG9fdXNlOgogICAgICAgIHBpY2tsZS5kdW1wKGFiLCBmKQogICAgZi5jbG9zZSgpCnNsZWVwX3RpbWUgPSBpbnQoaW5wdXQoZid7SU5QVVR9e2N5fSBFbnRlciBkZWxheSB0aW1lIHBlciByZXF1ZXN0e3d9W3tsZ30wIGZvciBOb25le3d9XToge3J9JykpCiNwcmludChmJ3tpbmZvfXtsZ30gSm9pbmluZyBncm91cCBmcm9tIHt3fXtudW1iZXJfb2ZfYWNjc30gYWNjb3VudHMuLi4nKQojcHJpbnQoZid7Z3JleX0tJyo1MCkKcHJpbnQoZid7c3VjY2Vzc317bGd9IC0tIEFkZGluZyBtZW1iZXJzIGZyb20ge3d9e2xlbih0b191c2UpfXtsZ30gYWNjb3VudChzKSAtLScpCmFkZGluZ19zdGF0dXMgPSAwCmFwcHJveF9tZW1iZXJzX2NvdW50ID0gMApmb3IgYWNjIGluIHRvX3VzZToKICAgIHN0b3AgPSBpbmRleCArIDYwCiAgICBjID0gVGVsZWdyYW1DbGllbnQoZidzZXNzaW9ucy97YWNjWzBdfScsIDM5MTAzODkgLCAnODZmODYxMzUyZjBhYjc2YTI1MTg2NjA1OWE2YWRiZDYnKQogICAgcHJpbnQoZid7cGx1c317Z3JleX0gVXNlcjoge2N5fXthY2NbMF19e2xnfSAtLSB7Y3l9U3RhcnRpbmcgc2Vzc2lvbi4uLiAnKQogICAgYy5zdGFydChhY2NbMF0pCiAgICBhY2NfbmFtZSA9IGMuZ2V0X21lKCkuZmlyc3RfbmFtZQogICAgdHJ5OgogICAgICAgIGlmICcvam9pbmNoYXQvJyBpbiBzY3JhcGVkX2dycDoKICAgICAgICAgICAgZ19oYXNoID0gc2NyYXBlZF9ncnAuc3BsaXQoJy9qb2luY2hhdC8nKVsxXQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBjKEltcG9ydENoYXRJbnZpdGVSZXF1ZXN0KGdfaGFzaCkpCiAgICAgICAgICAgICAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0gSm9pbmVkIGdyb3VwIHRvIHNjcmFwZScpCiAgICAgICAgICAgIGV4Y2VwdCBVc2VyQWxyZWFkeVBhcnRpY2lwYW50RXJyb3I6CiAgICAgICAgICAgICAgICBwYXNzIAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGMoSm9pbkNoYW5uZWxSZXF1ZXN0KHNjcmFwZWRfZ3JwKSkKICAgICAgICAgICAgcHJpbnQoZid7cGx1c317Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIEpvaW5lZCBncm91cCB0byBzY3JhcGUnKQogICAgICAgIHNjcmFwZWRfZ3JwX2VudGl0eSA9IGMuZ2V0X2VudGl0eShzY3JhcGVkX2dycCkKICAgICAgICBpZiBjaG9pY2UgPT0gMDoKICAgICAgICAgICAgYyhKb2luQ2hhbm5lbFJlcXVlc3QodGFyZ2V0KSkKICAgICAgICAgICAgcHJpbnQoZid7cGx1c317Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIEpvaW5lZCBncm91cCB0byBhZGQnKQogICAgICAgICAgICB0YXJnZXRfZW50aXR5ID0gYy5nZXRfZW50aXR5KHRhcmdldCkKICAgICAgICAgICAgdGFyZ2V0X2RldGFpbHMgPSBJbnB1dFBlZXJDaGFubmVsKHRhcmdldF9lbnRpdHkuaWQsIHRhcmdldF9lbnRpdHkuYWNjZXNzX2hhc2gpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZ3JwX2hhc2ggPSB0YXJnZXQuc3BsaXQoJy9qb2luY2hhdC8nKVsxXQogICAgICAgICAgICAgICAgYyhJbXBvcnRDaGF0SW52aXRlUmVxdWVzdChncnBfaGFzaCkpCiAgICAgICAgICAgICAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0gSm9pbmVkIGdyb3VwIHRvIGFkZCcpCiAgICAgICAgICAgIGV4Y2VwdCBVc2VyQWxyZWFkeVBhcnRpY2lwYW50RXJyb3I6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHRhcmdldF9lbnRpdHkgPSBjLmdldF9lbnRpdHkodGFyZ2V0KQogICAgICAgICAgICB0YXJnZXRfZGV0YWlscyA9IHRhcmdldF9lbnRpdHkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmJ3tlcnJvcn17cn0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIEZhaWxlZCB0byBqb2luIGdyb3VwJykKICAgICAgICBwcmludChmJ3tlcnJvcn0ge3J9e2V9JykKICAgICAgICBjb250aW51ZQogICAgcHJpbnQoZid7cGx1c317Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIHtjeX1SZXRyaWV2aW5nIGVudGl0aWVzLi4uJykKICAgICNjLmdldF9kaWFsb2dzKCkKICAgIHRyeToKICAgICAgICBtZW1iZXJzID0gW10KICAgICAgICBtZW1iZXJzID0gYy5nZXRfcGFydGljaXBhbnRzKHNjcmFwZWRfZ3JwX2VudGl0eSwgYWdncmVzc2l2ZT1UcnVlKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYne2Vycm9yfXtyfSBDb3VsZG5cJ3Qgc2NyYXBlIG1lbWJlcnMnKQogICAgICAgIHByaW50KGYne2Vycm9yfXtyfSB7ZX0nKQogICAgICAgIGNvbnRpbnVlCiAgICBhcHByb3hfbWVtYmVyc19jb3VudCA9IGxlbihtZW1iZXJzKQogICAgYXNzZXJ0IGFwcHJveF9tZW1iZXJzX2NvdW50ICE9IDAKICAgIGlmIGluZGV4ID49IGFwcHJveF9tZW1iZXJzX2NvdW50OgogICAgICAgIHByaW50KGYne2Vycm9yfXtsZ30gTm8gbWVtYmVycyB0byBhZGQhJykKICAgICAgICBjb250aW51ZQogICAgcHJpbnQoZid7aW5mb317bGd9IFN0YXJ0OiB7d317aW5kZXh9JykKICAgICNhZGRpbmdfc3RhdHVzID0gMAogICAgcGVlcl9mbG9vZF9zdGF0dXMgPSAwCiAgICBmb3IgdXNlciBpbiBtZW1iZXJzW2luZGV4OnN0b3BdOgogICAgICAgIGluZGV4ICs9IDEKICAgICAgICBpZiBwZWVyX2Zsb29kX3N0YXR1cyA9PSAxMDoKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9e3J9IFRvbyBtYW55IFBlZXIgRmxvb2QgRXJyb3JzISBDbG9zaW5nIHNlc3Npb24uLi4nKQogICAgICAgICAgICBicmVhawogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgY2hvaWNlID09IDA6CiAgICAgICAgICAgICAgICBjKEludml0ZVRvQ2hhbm5lbFJlcXVlc3QodGFyZ2V0X2RldGFpbHMsIFt1c2VyXSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjKEFkZENoYXRVc2VyUmVxdWVzdCh0YXJnZXRfZGV0YWlscy5pZCwgdXNlciwgNDIpKQogICAgICAgICAgICB1c2VyX2lkID0gdXNlci5maXJzdF9uYW1lCiAgICAgICAgICAgIHRhcmdldF90aXRsZSA9IHRhcmdldF9lbnRpdHkudGl0bGUKICAgICAgICAgICAgcHJpbnQoZid7cGx1c317Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIHtjeX17dXNlcl9pZH0ge2xnfS0tPiB7Y3l9e3RhcmdldF90aXRsZX0nKQogICAgICAgICAgICAjcHJpbnQoZid7aW5mb317Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIFNsZWVwIDEgc2Vjb25kJykKICAgICAgICAgICAgYWRkaW5nX3N0YXR1cyArPSAxCiAgICAgICAgICAgIHByaW50KGYne2luZm99e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSBTbGVlcCB7d317c2xlZXBfdGltZX0ge2xnfXNlY29uZChzKScpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoc2xlZXBfdGltZSkKICAgICAgICBleGNlcHQgVXNlclByaXZhY3lSZXN0cmljdGVkRXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne21pbnVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0ge3J9VXNlciBQcml2YWN5IFJlc3RyaWN0ZWQgRXJyb3InKQogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGV4Y2VwdCBQZWVyRmxvb2RFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSB7cn1QZWVyIEZsb29kIEVycm9yLicpCiAgICAgICAgICAgIHBlZXJfZmxvb2Rfc3RhdHVzICs9IDEKICAgICAgICAgICAgY29udGludWUKICAgICAgICBleGNlcHQgQ2hhdFdyaXRlRm9yYmlkZGVuRXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne2Vycm9yfXtyfSBDYW5cJ3QgYWRkIHRvIGdyb3VwLiBDb250YWN0IGdyb3VwIGFkbWluIHRvIGVuYWJsZSBtZW1iZXJzIGFkZGluZycpCiAgICAgICAgICAgIGlmIGluZGV4IDwgYXBwcm94X21lbWJlcnNfY291bnQ6CiAgICAgICAgICAgICAgICBsb2dfc3RhdHVzKHNjcmFwZWRfZ3JwLCBpbmRleCkKICAgICAgICAgICAgZXhpdF93aW5kb3coKQogICAgICAgIGV4Y2VwdCBVc2VyQmFubmVkSW5DaGFubmVsRXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne2Vycm9yfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0ge3J9QmFubmVkIGZyb20gd3JpdGluZyBpbiBncm91cHMnKQogICAgICAgICAgICBicmVhawogICAgICAgIGV4Y2VwdCBDaGF0QWRtaW5SZXF1aXJlZEVycm9yOgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn17Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIHtyfUNoYXQgQWRtaW4gcmlnaHRzIG5lZWRlZCB0byBhZGQnKQogICAgICAgICAgICBicmVhawogICAgICAgIGV4Y2VwdCBVc2VyQWxyZWFkeVBhcnRpY2lwYW50RXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne21pbnVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0ge3J9VXNlciBpcyBhbHJlYWR5IGEgcGFydGljaXBhbnQnKQogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGV4Y2VwdCBGbG9vZFdhaXRFcnJvciBhcyBlOgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn17cn0ge2V9JykKICAgICAgICAgICAgYnJlYWsKICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9e3J9IEVycm9yIGluIEVudGl0eScpCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn17cn0gLS0tLSBBZGRpbmcgVGVybWluYXRlZCAtLS0tJykKICAgICAgICAgICAgaWYgaW5kZXggPCBsZW4obWVtYmVycyk6CiAgICAgICAgICAgICAgICBsb2dfc3RhdHVzKHNjcmFwZWRfZ3JwLCBpbmRleCkKICAgICAgICAgICAgZXhpdF93aW5kb3coKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9IHtlfScpCiAgICAgICAgICAgIGNvbnRpbnVlCiNnbG9iYWwgYWRkaW5nX3N0YXR1cywgYXBwcm94X21lbWJlcnNfY291bnQKaWYgYWRkaW5nX3N0YXR1cyAhPSAwOgogICAgcHJpbnQoZiJcbntpbmZvfXtsZ30gQWRkaW5nIHNlc3Npb24gZW5kZWQiKQp0cnk6CiAgICBpZiBpbmRleCA8IGFwcHJveF9tZW1iZXJzX2NvdW50OgogICAgICAgIGxvZ19zdGF0dXMoc2NyYXBlZF9ncnAsIGluZGV4KQogICAgICAgIGV4aXRfd2luZG93KCkKZXhjZXB0OgogICAgZXhpdF93aW5kb3coKQo='))